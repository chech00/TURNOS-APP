<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Logger: Suprime console.log en producci√≥n -->
    <script src="./js/logger.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Animaciones - NOC</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/animaciones.css">
    <link rel="stylesheet" href="./css/user-profile-header.css" />
    <script defer src="./js/user-profile-header.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="./js/lucide-instant.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
    <script src="./js/security-helpers.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script defer src="./js/auto-logout.js"></script>
    <script defer src="./js/christmas.js"></script>
</head>

<body>
    <div id="sidebar" class="sidebar">
        <button id="menu-toggle" class="menu-btn"><i data-lucide="menu"></i></button>
        <div class="sidebar-header">
            <img src="https://i.ibb.co/HqrX2cr/LOGO-COLOR-2-SLOGAN-768x185.png" alt="Logo de la Empresa"
                class="logo-sidebar">
        </div>
        <nav class="sidebar-menu">
            <ul>
                <li data-tooltip="Directorio"><a href="directorio.html"><i
                            data-lucide="users"></i><span>Directorio</span></a></li>
                <li id="li-turnos" class="superadmin-only" style="display:none;" style="display:none;"
                    data-tooltip="Turnos"><a href="user.html"><i data-lucide="calendar"></i><span>Turnos</span></a></li>
                <li id="li-senales" class="admin-only" data-tooltip="Se√±al de Fibra"><a href="senales.html"><i
                            data-lucide="waypoints"></i><span>Se√±al de
                            Fibra</span></a></li>
                <li data-tooltip="Documentos Noc"><a href="documentos.html"><i data-lucide="dock"></i><span>Documentos
                            Noc</span></a></li>
                <li data-tooltip="Turnos Noc"><a href="noc.html"><i data-lucide="calendar-check"></i><span>Turnos
                            Noc</span></a></li>
                <li class="admin-only" data-tooltip="Bit√°cora Uptime"><a
                        href="uptime.html"><i data-lucide="activity"></i><span>Bit√°cora
                            Uptime</span></a></li>
                <li data-tooltip="Notificaciones"><a href="suralis.html"><i
                            data-lucide="send"></i><span>Notificaciones</span></a></li>
                <li id="li-empleados" class="admin-only" data-tooltip="Gestionar Empleados"><a
                        href="gestion_empleados.html"><i data-lucide="user-cog"></i><span>Gestionar
                            Empleados</span></a></li>
                <li id="li-usuarios" class="superadmin-only" data-tooltip="Cuentas de Sistema"><a
                        href="gestion_usuarios.html"><i data-lucide="shield-check"></i><span>Cuentas de
                            Sistema</span></a></li>
                <li id="li-animaciones" class="superadmin-only" data-tooltip="Animaciones"><a href="animaciones.html"
                        class="active"><i data-lucide="sparkles"></i><span>Animaciones</span></a></li>
                <li id="li-registros" class="superadmin-only" data-tooltip="Registros"><a href="registros.html"><i
                            data-lucide="file-text"></i><span>Registros</span></a></li>
            </ul>
        </nav>
        <button id="logout-btn" class="primary-btn logout-btn"><i data-lucide="log-out"></i><span>Cerrar
                sesi√≥n</span></button>
    </div>

    <div class="main-content">
        <header>
            <!-- Logger: Suprime console.log en producci√≥n -->
            <script src="./js/logger.js"></script>
            <h1>Gesti√≥n de Animaciones</h1>
            <!-- Premium User Profile Header -->
            <div class="user-profile-header">
                <div class="user-avatar">
                    <i data-lucide="user"></i>
                </div>
                <div class="user-details">
                    <span class="user-name" id="user-display-name">Usuario</span>
                    <span class="user-email" id="user-display-email">email@example.com</span>
                </div>
                <div class="user-role-badge" id="user-role-badge">
                    <i data-lucide="shield"></i>
                    <span id="user-role-text">Usuario</span>
                </div>
            </div>
        </header>

        <div class="animaciones-dashboard">
            <!-- Header -->
            <div class="dashboard-header">
                <div class="header-content">
                    <div class="header-icon-wrapper"><i data-lucide="wand-2" class="header-icon"></i></div>
                    <div class="header-text">
                        <h2>Centro de Control de Animaciones</h2>
                        <p>12 efectos visuales tem√°ticos para personalizar la experiencia</p>
                    </div>
                </div>
            </div>

            <!-- Festividades Section -->
            <div class="animation-section">
                <h3 class="section-title"><i data-lucide="party-popper"></i> Festividades</h3>
                <div class="animations-grid">
                    <!-- Snow -->
                    <div class="animation-card" data-animation="christmas_snow">
                        <div class="card-preview snow-preview">
                            <div class="preview-snow">‚ùÑ</div>
                            <div class="preview-snow">‚ùÖ</div>
                            <div class="preview-snow">‚ùÜ</div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">‚ùÑÔ∏è</span>
                            <h4>Navidad</h4>
                            <p>Copos de nieve</p>
                            <label class="toggle"><input type="checkbox" id="toggle-christmas_snow"><span
                                    class="toggle-slider"></span></label>
                        </div>
                    </div>
                    <!-- Fireworks -->
                    <div class="animation-card" data-animation="newyear_fireworks">
                        <div class="card-preview fireworks-preview">
                            <div class="preview-firework"></div>
                            <div class="preview-firework"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üéÜ</span>
                            <h4>A√±o Nuevo</h4>
                            <p>Fuegos artificiales</p>
                            <label class="toggle"><input type="checkbox" id="toggle-newyear_fireworks"><span
                                    class="toggle-slider"></span></label>
                        </div>
                    </div>
                    <!-- Halloween -->
                    <div class="animation-card" data-animation="halloween">
                        <div class="card-preview halloween-preview"><span class="preview-bat">ü¶á</span><span
                                class="preview-pumpkin">üéÉ</span></div>
                        <div class="card-body">
                            <span class="card-emoji">üéÉ</span>
                            <h4>Halloween</h4>
                            <p>Murci√©lagos y calabazas</p>
                            <label class="toggle"><input type="checkbox" id="toggle-halloween"><span
                                    class="toggle-slider halloween"></span></label>
                        </div>
                    </div>
                    <!-- Valentine -->
                    <div class="animation-card" data-animation="valentine">
                        <div class="card-preview valentine-preview"><span class="preview-heart">‚ù§Ô∏è</span><span
                                class="preview-heart">üíï</span><span class="preview-heart">üíñ</span></div>
                        <div class="card-body">
                            <span class="card-emoji">üíï</span>
                            <h4>San Valent√≠n</h4>
                            <p>Corazones flotantes</p>
                            <label class="toggle"><input type="checkbox" id="toggle-valentine"><span
                                    class="toggle-slider valentine"></span></label>
                        </div>
                    </div>
                    <!-- Easter -->
                    <div class="animation-card" data-animation="easter">
                        <div class="card-preview easter-preview"><span class="preview-egg">ü•ö</span><span
                                class="preview-egg">üê£</span><span class="preview-egg">üê∞</span></div>
                        <div class="card-body">
                            <span class="card-emoji">üê∞</span>
                            <h4>Pascua</h4>
                            <p>Huevos y conejos</p>
                            <label class="toggle"><input type="checkbox" id="toggle-easter"><span
                                    class="toggle-slider easter"></span></label>
                        </div>
                    </div>
                    <!-- Independence Chile -->
                    <div class="animation-card" data-animation="independence">
                        <div class="card-preview independence-preview">
                            <div class="preview-ribbon red"></div>
                            <div class="preview-ribbon white"></div>
                            <div class="preview-ribbon blue"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">ÔøΩÔøΩ</span>
                            <h4>Fiestas Patrias</h4>
                            <p>Cintas chilenas</p>
                            <label class="toggle"><input type="checkbox" id="toggle-independence"><span
                                    class="toggle-slider independence"></span></label>
                        </div>
                    </div>
                    <!-- Christmas Lights -->
                    <div class="animation-card" data-animation="christmas_lights">
                        <div class="card-preview lights-preview">
                            <div class="preview-bulb"></div>
                            <div class="preview-bulb"></div>
                            <div class="preview-bulb"></div>
                            <div class="preview-bulb"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üéÑ</span>
                            <h4>Lucecitas</h4>
                            <p>Guirnalda parpadeante</p>
                            <label class="toggle"><input type="checkbox" id="toggle-christmas_lights"><span
                                    class="toggle-slider christmas_lights"></span></label>
                        </div>
                    </div>
                    <!-- Golden Border -->
                    <div class="animation-card" data-animation="golden_border">
                        <div class="card-preview golden-preview">
                            <div class="preview-golden-shimmer"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">‚ú®</span>
                            <h4>Borde Dorado</h4>
                            <p>Brillo elegante</p>
                            <label class="toggle"><input type="checkbox" id="toggle-golden_border"><span
                                    class="toggle-slider golden_border"></span></label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ambientales Section -->
            <div class="animation-section">
                <h3 class="section-title"><i data-lucide="cloud-sun"></i> Efectos Ambientales</h3>
                <div class="animations-grid">
                    <!-- Rain -->
                    <div class="animation-card" data-animation="rain">
                        <div class="card-preview rain-preview">
                            <div class="preview-drop"></div>
                            <div class="preview-drop"></div>
                            <div class="preview-drop"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üåßÔ∏è</span>
                            <h4>Lluvia</h4>
                            <p>Gotas cayendo</p>
                            <label class="toggle"><input type="checkbox" id="toggle-rain"><span
                                    class="toggle-slider rain"></span></label>
                        </div>
                    </div>
                    <!-- Autumn -->
                    <div class="animation-card" data-animation="autumn">
                        <div class="card-preview autumn-preview"><span class="preview-leaf">üçÇ</span><span
                                class="preview-leaf">üçÅ</span><span class="preview-leaf">üçÉ</span></div>
                        <div class="card-body">
                            <span class="card-emoji">üçÇ</span>
                            <h4>Oto√±o</h4>
                            <p>Hojas cayendo</p>
                            <label class="toggle"><input type="checkbox" id="toggle-autumn"><span
                                    class="toggle-slider autumn"></span></label>
                        </div>
                    </div>
                    <!-- Bubbles -->
                    <div class="animation-card" data-animation="bubbles">
                        <div class="card-preview bubbles-preview">
                            <div class="preview-bubble"></div>
                            <div class="preview-bubble"></div>
                            <div class="preview-bubble"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">ü´ß</span>
                            <h4>Burbujas</h4>
                            <p>Subiendo suavemente</p>
                            <label class="toggle"><input type="checkbox" id="toggle-bubbles"><span
                                    class="toggle-slider bubbles"></span></label>
                        </div>
                    </div>
                    <!-- Aurora -->
                    <div class="animation-card" data-animation="aurora">
                        <div class="card-preview aurora-preview">
                            <div class="preview-aurora"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üåå</span>
                            <h4>Aurora Boreal</h4>
                            <p>Ondas de luz</p>
                            <label class="toggle"><input type="checkbox" id="toggle-aurora"><span
                                    class="toggle-slider aurora"></span></label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tech Section -->
            <div class="animation-section">
                <h3 class="section-title"><i data-lucide="cpu"></i> Efectos Tech</h3>
                <div class="animations-grid">
                    <!-- Matrix -->
                    <div class="animation-card" data-animation="matrix">
                        <div class="card-preview matrix-preview">
                            <div class="preview-matrix-col">01</div>
                            <div class="preview-matrix-col">10</div>
                            <div class="preview-matrix-col">11</div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üíª</span>
                            <h4>Matrix</h4>
                            <p>Lluvia de c√≥digo</p>
                            <label class="toggle"><input type="checkbox" id="toggle-matrix"><span
                                    class="toggle-slider matrix"></span></label>
                        </div>
                    </div>
                    <!-- Particles -->
                    <div class="animation-card" data-animation="particles">
                        <div class="card-preview particles-preview">
                            <div class="preview-particle"></div>
                            <div class="preview-particle"></div>
                            <div class="preview-particle"></div>
                            <div class="preview-line"></div>
                        </div>
                        <div class="card-body">
                            <span class="card-emoji">üîó</span>
                            <h4>Part√≠culas</h4>
                            <p>Red conectada</p>
                            <label class="toggle"><input type="checkbox" id="toggle-particles"><span
                                    class="toggle-slider particles"></span></label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Personalization Section -->
            <div class="animation-section">
                <h3 class="section-title"><i data-lucide="layout"></i> Personalizaci√≥n</h3>
                <div class="animations-grid">
                    <div class="animation-card settings-card"
                        style="grid-column: span 2; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem;">
                        <h4 style="color: var(--color-texto-principal);">Opacidad del Men√∫ Lateral</h4>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <input type="range" id="sidebar-opacity" class="premium-slider" min="0" max="1" step="0.01"
                                value="0.4">
                            <span id="opacity-value"
                                style="color: var(--color-texto-secundario); font-family: monospace; min-width: 40px;">0.40</span>
                        </div>
                        <p style="font-size: 0.8rem; color: var(--color-texto-secundario);">Ajusta qu√© tan transparente
                            es el men√∫ lateral.</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-footer">
                <div class="info-box">
                    <i data-lucide="info"></i>
                    <p>Las animaciones se aplican en tiempo real a todas las vistas, incluyendo login. Solo una
                        animaci√≥n puede estar activa a la vez para mejor rendimiento.</p>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./js/firebase.js"></script>
    <script defer src="./js/active-session.js"></script>
    <script defer src="./js/animaciones.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.lucide) lucide.createIcons();

            document.getElementById("menu-toggle")?.addEventListener("click", () => {
                document.getElementById("sidebar").classList.toggle("expanded");
                document.querySelector(".main-content").classList.toggle("expanded");
            });

            document.getElementById("logout-btn")?.addEventListener("click", () => {
                firebase.auth().signOut().then(() => {
                    localStorage.removeItem('userRole');
                    window.location.href = "login.html";
                });
            });
        });
    </script>
</body>

</html>
